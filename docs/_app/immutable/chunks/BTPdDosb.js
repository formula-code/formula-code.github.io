import{O as ce,F as fe,M as d,s as oe,A as ie,m as pe}from"./z10Dua7R.js";import{c as a}from"./CBhUi2SX.js";var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.AbstractOutputJax=void 0;var Ut=ce,de=fe,ye=function(){function r(e){e===void 0&&(e={}),this.adaptor=null;var t=this.constructor;this.options=(0,Ut.userOptions)((0,Ut.defaultOptions)({},t.OPTIONS),e),this.postFilters=new de.FunctionList}return Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),r.prototype.setAdaptor=function(e){this.adaptor=e},r.prototype.initialize=function(){},r.prototype.reset=function(){},r.prototype.getMetrics=function(e){},r.prototype.styleSheet=function(e){return null},r.prototype.pageElements=function(e){return null},r.prototype.executeFilters=function(e,t,n,o){var i={math:t,document:n,data:o};return e.execute(i),i.data},r.NAME="generic",r.OPTIONS={},r}();jt.AbstractOutputJax=ye;var Pt={},he=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=a&&a.__assign||function(){return L=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},L.apply(this,arguments)};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.MmlMath=void 0;var Gt=d,me=function(r){he(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"math"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,n,o,i){this.attributes.get("mode")==="display"&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),n=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&this.attributes.get("display")==="block",this.attributes.setInherited("displaystyle",n),o=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,r.prototype.setChildInheritedAttributes.call(this,t,n,o,i)},e.defaults=L(L({},Gt.AbstractMmlLayoutNode.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",infixlinebreakstyle:"before",lineleading:"1ex",linebreakmultchar:"â¢",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),e}(Gt.AbstractMmlLayoutNode);Pt.MmlMath=me;var N={},ae=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pt=a&&a.__assign||function(){return pt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},pt.apply(this,arguments)},j=a&&a.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});N.MmlInferredMrow=N.MmlMrow=void 0;var Y=d,dt=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._core=null,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){var t,n;try{for(var o=j(this.childNodes),i=o.next();!i.done;i=o.next()){var s=i.value;if(!s.isSpacelike)return!1}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){var t,n,o=!1,i=0;try{for(var s=j(this.childNodes),l=s.next();!l.done;l=s.next()){var u=l.value;if(u){if(u.isEmbellished){if(o)return!1;o=!0,this._core=i}else if(!u.isSpacelike)return!1}i++}}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},enumerable:!1,configurable:!0}),e.prototype.core=function(){return!this.isEmbellished||this._core==null?this:this.childNodes[this._core]},e.prototype.coreMO=function(){return!this.isEmbellished||this._core==null?this:this.childNodes[this._core].coreMO()},e.prototype.nonSpaceLength=function(){var t,n,o=0;try{for(var i=j(this.childNodes),s=i.next();!s.done;s=i.next()){var l=s.value;l&&!l.isSpacelike&&o++}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},e.prototype.firstNonSpace=function(){var t,n;try{for(var o=j(this.childNodes),i=o.next();!i.done;i=o.next()){var s=i.value;if(s&&!s.isSpacelike)return s}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null},e.prototype.lastNonSpace=function(){for(var t=this.childNodes.length;--t>=0;){var n=this.childNodes[t];if(n&&!n.isSpacelike)return n}return null},e.prototype.setTeXclass=function(t){var n,o,i,s;if(this.getProperty("open")!=null||this.getProperty("close")!=null){this.getPrevClass(t),t=null;try{for(var l=j(this.childNodes),u=l.next();!u.done;u=l.next()){var c=u.value;t=c.setTeXclass(t)}}catch(y){n={error:y}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}this.texClass==null&&(this.texClass=Y.TEXCLASS.INNER)}else{try{for(var f=j(this.childNodes),p=f.next();!p.done;p=f.next()){var c=p.value;t=c.setTeXclass(t)}}catch(y){i={error:y}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}this.childNodes[0]&&this.updateTeXclass(this.childNodes[0])}return t},e.defaults=pt({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);N.MmlMrow=dt;var ge=function(r){ae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"inferredMrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInferred",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"["+this.childNodes.join(",")+"]"},e.defaults=dt.defaults,e}(dt);N.MmlInferredMrow=ge;var xt={},ve=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yt=a&&a.__assign||function(){return yt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},yt.apply(this,arguments)};Object.defineProperty(xt,"__esModule",{value:!0});xt.MmlMi=void 0;var E=d,_e=function(r){ve(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=E.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mi"},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(t,n,o,i){t===void 0&&(t={}),n===void 0&&(n=!1),o===void 0&&(o=0),i===void 0&&(i=!1),r.prototype.setInheritedAttributes.call(this,t,n,o,i);var s=this.getText();s.match(e.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")},e.prototype.setTeXclass=function(t){this.getPrevClass(t);var n=this.getText();return n.length>1&&n.match(e.operatorName)&&this.attributes.get("mathvariant")==="normal"&&this.getProperty("autoOP")===void 0&&this.getProperty("texClass")===void 0&&(this.texClass=E.TEXCLASS.OP,this.setProperty("autoOP",!0)),this},e.defaults=yt({},E.AbstractMmlTokenNode.defaults),e.operatorName=/^[a-z][a-z0-9]*$/i,e.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/,e}(E.AbstractMmlTokenNode);xt.MmlMi=_e;var wt={},be=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ht=a&&a.__assign||function(){return ht=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ht.apply(this,arguments)};Object.defineProperty(wt,"__esModule",{value:!0});wt.MmlMn=void 0;var Z=d,Me=function(r){be(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=Z.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mn"},enumerable:!1,configurable:!0}),e.defaults=ht({},Z.AbstractMmlTokenNode.defaults),e}(Z.AbstractMmlTokenNode);wt.MmlMn=Me;var Nt={},Oe=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),R=a&&a.__assign||function(){return R=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},R.apply(this,arguments)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.MmlMs=void 0;var tt=d,je=function(r){Oe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=tt.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"ms"},enumerable:!1,configurable:!0}),e.defaults=R(R({},tt.AbstractMmlTokenNode.defaults),{lquote:'"',rquote:'"'}),e}(tt.AbstractMmlTokenNode);Nt.MmlMs=je;var At={},Pe=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mt=a&&a.__assign||function(){return mt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},mt.apply(this,arguments)};Object.defineProperty(At,"__esModule",{value:!0});At.MmlMtext=void 0;var et=d,xe=function(r){Pe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=et.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mtext"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=mt({},et.AbstractMmlTokenNode.defaults),e}(et.AbstractMmlTokenNode);At.MmlMtext=xe;var St={},we=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gt=a&&a.__assign||function(){return gt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},gt.apply(this,arguments)};Object.defineProperty(St,"__esModule",{value:!0});St.MmlMerror=void 0;var rt=d,Ne=function(r){we(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=rt.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"merror"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=gt({},rt.AbstractMmlNode.defaults),e}(rt.AbstractMmlNode);St.MmlMerror=Ne;var Tt={},Ae=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D=a&&a.__assign||function(){return D=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},D.apply(this,arguments)};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.MmlMspace=void 0;var nt=d,Se=function(r){Ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=nt.TEXCLASS.NONE,t}return e.prototype.setTeXclass=function(t){return t},Object.defineProperty(e.prototype,"kind",{get:function(){return"mspace"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewline",{get:function(){var t=this.attributes;return t.getExplicit("width")==null&&t.getExplicit("height")==null&&t.getExplicit("depth")==null&&t.get("linebreak")==="newline"},enumerable:!1,configurable:!0}),e.defaults=D(D({},nt.AbstractMmlTokenNode.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto"}),e}(nt.AbstractMmlTokenNode);Tt.MmlMspace=Se;var Ct={},Te=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B=a&&a.__assign||function(){return B=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},B.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.MmlMpadded=void 0;var Qt=d,Ce=function(r){Te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mpadded"},enumerable:!1,configurable:!0}),e.defaults=B(B({},Qt.AbstractMmlLayoutNode.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0}),e}(Qt.AbstractMmlLayoutNode);Ct.MmlMpadded=Ce;var kt={},ke=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vt=a&&a.__assign||function(){return vt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},vt.apply(this,arguments)};Object.defineProperty(kt,"__esModule",{value:!0});kt.MmlMphantom=void 0;var ot=d,Ee=function(r){ke(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=ot.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mphantom"},enumerable:!1,configurable:!0}),e.defaults=vt({},ot.AbstractMmlLayoutNode.defaults),e}(ot.AbstractMmlLayoutNode);kt.MmlMphantom=Ee;var Et={},$e=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q=a&&a.__assign||function(){return q=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},q.apply(this,arguments)},Ie=a&&a.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Et,"__esModule",{value:!0});Et.MmlMfrac=void 0;var Vt=d,Xe=function(r){$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mfrac"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){var n,o;this.getPrevClass(t);try{for(var i=Ie(this.childNodes),s=i.next();!s.done;s=i.next()){var l=s.value;l.setTeXclass(null)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return this},e.prototype.setChildInheritedAttributes=function(t,n,o,i){(!n||o>0)&&o++,this.childNodes[0].setInheritedAttributes(t,!1,o,i),this.childNodes[1].setInheritedAttributes(t,!1,o,!0)},e.defaults=q(q({},Vt.AbstractMmlBaseNode.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1}),e}(Vt.AbstractMmlBaseNode);Et.MmlMfrac=Xe;var $t={},Le=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_t=a&&a.__assign||function(){return _t=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},_t.apply(this,arguments)};Object.defineProperty($t,"__esModule",{value:!0});$t.MmlMsqrt=void 0;var it=d,Re=function(r){Le(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=it.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"msqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this},e.prototype.setChildInheritedAttributes=function(t,n,o,i){this.childNodes[0].setInheritedAttributes(t,n,o,!0)},e.defaults=_t({},it.AbstractMmlNode.defaults),e}(it.AbstractMmlNode);$t.MmlMsqrt=Re;var It={},De=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bt=a&&a.__assign||function(){return bt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},bt.apply(this,arguments)};Object.defineProperty(It,"__esModule",{value:!0});It.MmlMroot=void 0;var at=d,Be=function(r){De(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=at.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mroot"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this},e.prototype.setChildInheritedAttributes=function(t,n,o,i){this.childNodes[0].setInheritedAttributes(t,n,o,!0),this.childNodes[1].setInheritedAttributes(t,!1,o+2,i)},e.defaults=bt({},at.AbstractMmlNode.defaults),e}(at.AbstractMmlNode);It.MmlMroot=Be;var Xt={},qe=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F=a&&a.__assign||function(){return F=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},F.apply(this,arguments)},Wt=a&&a.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.MmlMfenced=void 0;var w=d,Fe=function(r){qe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=w.TEXCLASS.INNER,t.separators=[],t.open=null,t.close=null,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mfenced"},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){this.getPrevClass(t),this.open&&(t=this.open.setTeXclass(t)),this.childNodes[0]&&(t=this.childNodes[0].setTeXclass(t));for(var n=1,o=this.childNodes.length;n<o;n++)this.separators[n-1]&&(t=this.separators[n-1].setTeXclass(t)),this.childNodes[n]&&(t=this.childNodes[n].setTeXclass(t));return this.close&&(t=this.close.setTeXclass(t)),this.updateTeXclass(this.open),t},e.prototype.setChildInheritedAttributes=function(t,n,o,i){var s,l;this.addFakeNodes();try{for(var u=Wt([this.open,this.close].concat(this.separators)),c=u.next();!c.done;c=u.next()){var f=c.value;f&&f.setInheritedAttributes(t,n,o,i)}}catch(p){s={error:p}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}r.prototype.setChildInheritedAttributes.call(this,t,n,o,i)},e.prototype.addFakeNodes=function(){var t,n,o=this.attributes.getList("open","close","separators"),i=o.open,s=o.close,l=o.separators;if(i=i.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),l=l.replace(/[ \t\n\r]/g,""),i&&(this.open=this.fakeNode(i,{fence:!0,form:"prefix"},w.TEXCLASS.OPEN)),l){for(;l.length<this.childNodes.length-1;)l+=l.charAt(l.length-1);var u=0;try{for(var c=Wt(this.childNodes.slice(1)),f=c.next();!f.done;f=c.next()){var p=f.value;p&&this.separators.push(this.fakeNode(l.charAt(u++)))}}catch(y){t={error:y}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}s&&(this.close=this.fakeNode(s,{fence:!0,form:"postfix"},w.TEXCLASS.CLOSE))},e.prototype.fakeNode=function(t,n,o){n===void 0&&(n={}),o===void 0&&(o=null);var i=this.factory.create("text").setText(t),s=this.factory.create("mo",n,[i]);return s.texClass=o,s.parent=this,s},e.defaults=F(F({},w.AbstractMmlNode.defaults),{open:"(",close:")",separators:","}),e}(w.AbstractMmlNode);Xt.MmlMfenced=Fe;var g={},Lt=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),P=a&&a.__assign||function(){return P=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},P.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});g.MmlMsup=g.MmlMsub=g.MmlMsubsup=void 0;var Yt=d,A=function(r){Lt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"msubsup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,n,o,i){var s=this.childNodes;s[0].setInheritedAttributes(t,n,o,i),s[1].setInheritedAttributes(t,!1,o+1,i||this.sub===1),s[2]&&s[2].setInheritedAttributes(t,!1,o+1,i||this.sub===2)},e.defaults=P(P({},Yt.AbstractMmlBaseNode.defaults),{subscriptshift:"",superscriptshift:""}),e}(Yt.AbstractMmlBaseNode);g.MmlMsubsup=A;var Ke=function(r){Lt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"msub"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=P({},A.defaults),e}(A);g.MmlMsub=Ke;var He=function(r){Lt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"msup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=P({},A.defaults),e}(A);g.MmlMsup=He;var v={},Rt=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),x=a&&a.__assign||function(){return x=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},x.apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0});v.MmlMover=v.MmlMunder=v.MmlMunderover=void 0;var Zt=d,S=function(r){Rt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"munderover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,n,o,i){var s=this.childNodes;s[0].setInheritedAttributes(t,n,o,i||!!s[this.over]);var l=!!(!n&&s[0].coreMO().attributes.get("movablelimits")),u=this.constructor.ACCENTS;s[1].setInheritedAttributes(t,!1,this.getScriptlevel(u[1],l,o),i||this.under===1),this.setInheritedAccent(1,u[1],n,o,i,l),s[2]&&(s[2].setInheritedAttributes(t,!1,this.getScriptlevel(u[2],l,o),i||this.under===2),this.setInheritedAccent(2,u[2],n,o,i,l))},e.prototype.getScriptlevel=function(t,n,o){return(n||!this.attributes.get(t))&&o++,o},e.prototype.setInheritedAccent=function(t,n,o,i,s,l){var u=this.childNodes[t];if(this.attributes.getExplicit(n)==null&&u.isEmbellished){var c=u.coreMO().attributes.get("accent");this.attributes.setInherited(n,c),c!==this.attributes.getDefault(n)&&u.setInheritedAttributes({},o,this.getScriptlevel(n,l,i),s)}},e.defaults=x(x({},Zt.AbstractMmlBaseNode.defaults),{accent:!1,accentunder:!1,align:"center"}),e.ACCENTS=["","accentunder","accent"],e}(Zt.AbstractMmlBaseNode);v.MmlMunderover=S;var ze=function(r){Rt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"munder"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=x({},S.defaults),e}(S);v.MmlMunder=ze;var Je=function(r){Rt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=x({},S.defaults),e.ACCENTS=["","accent","accentunder"],e}(S);v.MmlMover=Je;var _={},Dt=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=a&&a.__assign||function(){return T=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},T.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0});_.MmlNone=_.MmlMprescripts=_.MmlMmultiscripts=void 0;var K=d,te=g,Ue=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mmultiscripts"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,n,o,i){this.childNodes[0].setInheritedAttributes(t,n,o,i);for(var s=!1,l=1,u=0;l<this.childNodes.length;l++){var c=this.childNodes[l];if(c.isKind("mprescripts")){if(!s&&(s=!0,l%2===0)){var f=this.factory.create("mrow");this.childNodes.splice(l,0,f),f.parent=this,l++}}else{var p=i||u%2===0;c.setInheritedAttributes(t,!1,o+1,p),u++}}this.childNodes.length%2===(s?1:0)&&(this.appendChild(this.factory.create("mrow")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t,!1,o+1,i))},e.prototype.verifyChildren=function(t){for(var n=!1,o=t.fixMmultiscripts,i=0;i<this.childNodes.length;i++){var s=this.childNodes[i];s.isKind("mprescripts")&&(n?s.mError(s.kind+" can only appear once in "+this.kind,t,!0):(n=!0,i%2===0&&!o&&this.mError("There must be an equal number of prescripts of each type",t)))}this.childNodes.length%2===(n?1:0)&&!o&&this.mError("There must be an equal number of scripts of each type",t),r.prototype.verifyChildren.call(this,t)},e.defaults=T({},te.MmlMsubsup.defaults),e}(te.MmlMsubsup);_.MmlMmultiscripts=Ue;var Ge=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mprescripts"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.verifyTree=function(t){r.prototype.verifyTree.call(this,t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)},e.defaults=T({},K.AbstractMmlNode.defaults),e}(K.AbstractMmlNode);_.MmlMprescripts=Ge;var Qe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.verifyTree=function(t){r.prototype.verifyTree.call(this,t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)},e.defaults=T({},K.AbstractMmlNode.defaults),e}(K.AbstractMmlNode);_.MmlNone=Qe;var Bt={},Ve=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H=a&&a.__assign||function(){return H=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},H.apply(this,arguments)},$=a&&a.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.MmlMtable=void 0;var I=d,We=oe,Ye=function(r){Ve(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.properties={useHeight:!0},t.texclass=I.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mtable"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(t,n,o,i){var s,l;try{for(var u=$(I.indentAttributes),c=u.next();!c.done;c=u.next()){var f=c.value;t[f]&&this.attributes.setInherited(f,t[f][1]),this.attributes.getExplicit(f)!==void 0&&delete this.attributes.getAllAttributes()[f]}}catch(p){s={error:p}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}r.prototype.setInheritedAttributes.call(this,t,n,o,i)},e.prototype.setChildInheritedAttributes=function(t,n,o,i){var s,l,u,c;try{for(var f=$(this.childNodes),p=f.next();!p.done;p=f.next()){var y=p.value;y.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),y).appendChild(y)}}catch(W){s={error:W}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}o=this.getProperty("scriptlevel")||o,n=!!(this.attributes.getExplicit("displaystyle")||this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center"});var k=this.attributes.getExplicit("data-cramped"),O=(0,We.split)(this.attributes.get("rowalign"));try{for(var h=$(this.childNodes),m=h.next();!m.done;m=h.next()){var y=m.value;t.rowalign[1]=O.shift()||t.rowalign[1],y.setInheritedAttributes(t,n,o,!!k)}}catch(W){u={error:W}}finally{try{m&&!m.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}},e.prototype.verifyChildren=function(t){for(var n=null,o=this.factory,i=0;i<this.childNodes.length;i++){var s=this.childNodes[i];if(s.isKind("mtr"))n=null;else{var l=s.isKind("mtd");if(n?(this.removeChild(s),i--):n=this.replaceChild(o.create("mtr"),s),n.appendChild(l?s:o.create("mtd",{},[s])),!t.fixMtables){s.parent.removeChild(s),s.parent=this,l&&n.appendChild(o.create("mtd"));var u=s.mError("Children of "+this.kind+" must be mtr or mlabeledtr",t,l);n.childNodes[n.childNodes.length-1].appendChild(u)}}}r.prototype.verifyChildren.call(this,t)},e.prototype.setTeXclass=function(t){var n,o;this.getPrevClass(t);try{for(var i=$(this.childNodes),s=i.next();!s.done;s=i.next()){var l=s.value;l.setTeXclass(null)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return this},e.defaults=H(H({},I.AbstractMmlNode.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em"}),e}(I.AbstractMmlNode);Bt.MmlMtable=Ye;var C={},se=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z=a&&a.__assign||function(){return z=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},z.apply(this,arguments)},X=a&&a.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(C,"__esModule",{value:!0});C.MmlMlabeledtr=C.MmlMtr=void 0;var ee=d,st=ie,Ze=oe,le=function(r){se(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mtr"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,n,o,i){var s,l,u,c;try{for(var f=X(this.childNodes),p=f.next();!p.done;p=f.next()){var y=p.value;y.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),y).appendChild(y)}}catch(m){s={error:m}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}var k=(0,Ze.split)(this.attributes.get("columnalign"));this.arity===1&&k.unshift(this.parent.attributes.get("side")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center"});try{for(var O=X(this.childNodes),h=O.next();!h.done;h=O.next()){var y=h.value;t.columnalign[1]=k.shift()||t.columnalign[1],y.setInheritedAttributes(t,n,o,i)}}catch(m){u={error:m}}finally{try{h&&!h.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}},e.prototype.verifyChildren=function(t){var n,o;if(this.parent&&!this.parent.isKind("mtable")){this.mError(this.kind+" can only be a child of an mtable",t,!0);return}try{for(var i=X(this.childNodes),s=i.next();!s.done;s=i.next()){var l=s.value;if(!l.isKind("mtd")){var u=this.replaceChild(this.factory.create("mtd"),l);u.appendChild(l),t.fixMtables||l.mError("Children of "+this.kind+" must be mtd",t)}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}r.prototype.verifyChildren.call(this,t)},e.prototype.setTeXclass=function(t){var n,o;this.getPrevClass(t);try{for(var i=X(this.childNodes),s=i.next();!s.done;s=i.next()){var l=s.value;l.setTeXclass(null)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return this},e.defaults=z(z({},ee.AbstractMmlNode.defaults),{rowalign:st.INHERIT,columnalign:st.INHERIT,groupalign:st.INHERIT}),e}(ee.AbstractMmlNode);C.MmlMtr=le;var tr=function(r){se(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mlabeledtr"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(le);C.MmlMlabeledtr=tr;var qt={},er=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),J=a&&a.__assign||function(){return J=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},J.apply(this,arguments)};Object.defineProperty(qt,"__esModule",{value:!0});qt.MmlMtd=void 0;var re=d,lt=ie,rr=function(r){er(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mtd"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.verifyChildren=function(t){if(this.parent&&!this.parent.isKind("mtr")){this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",t,!0);return}r.prototype.verifyChildren.call(this,t)},e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this},e.defaults=J(J({},re.AbstractMmlBaseNode.defaults),{rowspan:1,columnspan:1,rowalign:lt.INHERIT,columnalign:lt.INHERIT,groupalign:lt.INHERIT}),e}(re.AbstractMmlBaseNode);qt.MmlMtd=rr;var Ft={},nr=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U=a&&a.__assign||function(){return U=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},U.apply(this,arguments)};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.MmlMaction=void 0;var ne=d,or=function(r){nr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"maction"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){var t=this.attributes.get("selection"),n=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[n]||this.factory.create("mrow")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return this.selected.isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return this.selected.isSpacelike},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.selected.core()},e.prototype.coreMO=function(){return this.selected.coreMO()},e.prototype.verifyAttributes=function(t){if(r.prototype.verifyAttributes.call(this,t),this.attributes.get("actiontype")!=="toggle"&&this.attributes.getExplicit("selection")!==void 0){var n=this.attributes.getAllAttributes();delete n.selection}},e.prototype.setTeXclass=function(t){this.attributes.get("actiontype")==="tooltip"&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);var n=this.selected;return t=n.setTeXclass(t),this.updateTeXclass(n),t},e.prototype.nextToggleSelection=function(){var t=Math.max(1,this.attributes.get("selection")+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)},e.defaults=U(U({},ne.AbstractMmlNode.defaults),{actiontype:"toggle",selection:1}),e}(ne.AbstractMmlNode);Ft.MmlMaction=or;var Kt={},ir=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G=a&&a.__assign||function(){return G=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},G.apply(this,arguments)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.MmlMenclose=void 0;var ut=d,ar=function(r){ir(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=ut.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"menclose"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContininer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t},e.defaults=G(G({},ut.AbstractMmlNode.defaults),{notation:"longdiv"}),e}(ut.AbstractMmlNode);Kt.MmlMenclose=ar;var b={},Ht=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M=a&&a.__assign||function(){return M=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},M.apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:!0});b.MmlAnnotation=b.MmlAnnotationXML=b.MmlSemantics=void 0;var Q=d,sr=function(r){Ht(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"semantics"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=M(M({},Q.AbstractMmlBaseNode.defaults),{definitionUrl:null,encoding:null}),e}(Q.AbstractMmlBaseNode);b.MmlSemantics=sr;var Mt=function(r){Ht(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation-xml"},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(){},e.defaults=M(M({},Q.AbstractMmlNode.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null}),e}(Q.AbstractMmlNode);b.MmlAnnotationXML=Mt;var lr=function(r){Ht(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.properties={isChars:!0},t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.defaults=M({},Mt.defaults),e}(Mt);b.MmlAnnotation=lr;var zt={},ur=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V=a&&a.__assign||function(){return V=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},V.apply(this,arguments)};Object.defineProperty(zt,"__esModule",{value:!0});zt.MmlMglyph=void 0;var ct=d,cr=function(r){ur(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.texclass=ct.TEXCLASS.ORD,t}return Object.defineProperty(e.prototype,"kind",{get:function(){return"mglyph"},enumerable:!1,configurable:!0}),e.prototype.verifyAttributes=function(t){var n=this.attributes.getList("src","fontfamily","index"),o=n.src,i=n.fontfamily,s=n.index;o===""&&(i===""||s==="")?this.mError("mglyph must have either src or fontfamily and index attributes",t,!0):r.prototype.verifyAttributes.call(this,t)},e.defaults=V(V({},ct.AbstractMmlTokenNode.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"}),e}(ct.AbstractMmlTokenNode);zt.MmlMglyph=cr;var Jt={},fr=a&&a.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ot=a&&a.__assign||function(){return Ot=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ot.apply(this,arguments)};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.TeXAtom=void 0;var ft=d,pr=pe,ue=function(r){fr(e,r);function e(t,n,o){var i=r.call(this,t,n,o)||this;return i.texclass=ft.TEXCLASS.ORD,i.setProperty("texClass",i.texClass),i}return Object.defineProperty(e.prototype,"kind",{get:function(){return"TeXAtom"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)},e.prototype.adjustTeXclass=function(t){return t},e.defaults=Ot({},ft.AbstractMmlBaseNode.defaults),e}(ft.AbstractMmlBaseNode);Jt.TeXAtom=ue;ue.prototype.adjustTeXclass=pr.MmlMo.prototype.adjustTeXclass;export{jt as O,Jt as T,xt as a,wt as b,At as c,Tt as d,Nt as e,N as f,Et as g,$t as h,It as i,St as j,Ct as k,kt as l,Pt as m,Xt as n,Kt as o,Ft as p,g as q,v as r,_ as s,Bt as t,C as u,qt as v,zt as w,b as x};
